"use strict";(self.webpackChunktrello_auth=self.webpackChunktrello_auth||[]).push([[855],{2016:(de,W,_)=>{_.d(W,{rt:()=>Re,tE:()=>Le,qV:()=>Te,ic:()=>se,X6:()=>oe,yG:()=>re});var T=_(6895),l=_(1571),b=_(3353),C=_(1135),O=_(7579),d=_(9646),M=_(9521),k=_(9300);function S(s){return(0,k.h)((t,e)=>s<=e)}var G=_(4671),L=_(4482),N=_(5403);function w(s,t){return s===t}var Y=_(5698),B=_(2722),E=_(1281);let P=(()=>{class s{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),z=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=l.oAB({type:s}),s.\u0275inj=l.cJS({providers:[P]}),s})();var $=_(9841),X=_(7272),j=_(9751),R=_(4986),f=_(4004),g=_(8675);const r=new Set;let c,h=(()=>{class s{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):p}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function v(s){if(!r.has(s))try{c||(c=document.createElement("style"),c.setAttribute("type","text/css"),document.head.appendChild(c)),c.sheet&&(c.sheet.insertRule(`@media ${s} {body{ }}`,0),r.add(s))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(b.t4))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function p(s){return{matches:"all"===s||""===s,media:s,addListener:()=>{},removeListener:()=>{}}}let F=(()=>{class s{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new O.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return x((0,E.Eq)(e)).some(n=>this._registerQuery(n).mql.matches)}observe(e){const n=x((0,E.Eq)(e)).map(u=>this._registerQuery(u).observable);let a=(0,$.a)(n);return a=(0,X.z)(a.pipe((0,Y.q)(1)),a.pipe(S(1),function Q(s,t=R.z){return(0,L.e)((e,i)=>{let n=null,a=null,u=null;const m=()=>{if(n){n.unsubscribe(),n=null;const y=a;a=null,i.next(y)}};function I(){const y=u+s,ue=t.now();if(ue<y)return n=this.schedule(void 0,y-ue),void i.add(n);m()}e.subscribe((0,N.x)(i,y=>{a=y,u=t.now(),n||(n=t.schedule(I,s),i.add(n))},()=>{m(),i.complete()},void 0,()=>{a=n=null}))})}(0))),a.pipe((0,f.U)(u=>{const m={matches:!1,breakpoints:{}};return u.forEach(({matches:I,query:y})=>{m.matches=m.matches||I,m.breakpoints[y]=I}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),a={observable:new j.y(u=>{const m=I=>this._zone.run(()=>u.next(I));return i.addListener(m),()=>{i.removeListener(m)}}).pipe((0,g.O)(i),(0,f.U)(({matches:u})=>({query:e,matches:u})),(0,B.R)(this._destroySubject)),mql:i};return this._queries.set(e,a),a}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(h),l.LFG(l.R0b))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function x(s){return s.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let se=(()=>{class s{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function me(s){return!!(s.offsetWidth||s.offsetHeight||"function"==typeof s.getClientRects&&s.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function fe(s){try{return s.frameElement}catch{return null}}(function Ae(s){return s.ownerDocument&&s.ownerDocument.defaultView||window}(e));if(i&&(-1===ne(i)||!this.isVisible(i)))return!1;let n=e.nodeName.toLowerCase(),a=ne(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===n||"object"===n||this._platform.WEBKIT&&this._platform.IOS&&!function Ce(s){let t=s.nodeName.toLowerCase(),e="input"===t&&s.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===n?!!e.hasAttribute("controls")&&-1!==a:"video"===n?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Ee(s){return!function pe(s){return function be(s){return"input"==s.nodeName.toLowerCase()}(s)&&"hidden"==s.type}(s)&&(function ge(s){let t=s.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(s)||function ve(s){return function ye(s){return"a"==s.nodeName.toLowerCase()}(s)&&s.hasAttribute("href")}(s)||s.hasAttribute("contenteditable")||ie(s))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(b.t4))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ie(s){if(!s.hasAttribute("tabindex")||void 0===s.tabIndex)return!1;let t=s.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function ne(s){if(!ie(s))return null;const t=parseInt(s.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Ie{constructor(t,e,i,n,a=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const n=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(n)return n}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const n=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(n)return n}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Y.q)(1)).subscribe(t)}}let Te=(()=>{class s{constructor(e,i,n){this._checker=e,this._ngZone=i,this._document=n}create(e,i=!1){return new Ie(e,this._checker,this._ngZone,this._document,i)}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(se),l.LFG(l.R0b),l.LFG(T.K0))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function oe(s){return 0===s.buttons||0===s.offsetX&&0===s.offsetY}function re(s){const t=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Me=new l.OlP("cdk-input-modality-detector-options"),Fe={ignoreKeys:[M.zL,M.jx,M.b2,M.MW,M.JU]},D=(0,b.i$)({passive:!0,capture:!0});let De=(()=>{class s{constructor(e,i,n,a){this._platform=e,this._mostRecentTarget=null,this._modality=new C.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(m=>m===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,b.sA)(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(oe(u)?"keyboard":"mouse"),this._mostRecentTarget=(0,b.sA)(u))},this._onTouchstart=u=>{re(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,b.sA)(u))},this._options={...Fe,...a},this.modalityDetected=this._modality.pipe(S(1)),this.modalityChanged=this.modalityDetected.pipe(function H(s,t=G.y){return s=s??w,(0,L.e)((e,i)=>{let n,a=!0;e.subscribe((0,N.x)(i,u=>{const m=t(u);(a||!s(n,m))&&(a=!1,n=m,i.next(u))}))})}()),e.isBrowser&&i.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,D),n.addEventListener("mousedown",this._onMousedown,D),n.addEventListener("touchstart",this._onTouchstart,D)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,D),document.removeEventListener("mousedown",this._onMousedown,D),document.removeEventListener("touchstart",this._onTouchstart,D))}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(b.t4),l.LFG(l.R0b),l.LFG(T.K0),l.LFG(Me,8))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ke=new l.OlP("cdk-focus-monitor-default-options"),U=(0,b.i$)({passive:!0,capture:!0});let Le=(()=>{class s{constructor(e,i,n,a,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new O.x,this._rootNodeFocusAndBlurListener=m=>{for(let y=(0,b.sA)(m);y;y=y.parentElement)"focus"===m.type?this._onFocus(m,y):this._onBlur(m,y)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const n=(0,E.fI)(e);if(!this._platform.isBrowser||1!==n.nodeType)return(0,d.of)(null);const a=(0,b.kV)(n)||this._getDocument(),u=this._elementInfo.get(n);if(u)return i&&(u.checkChildren=!0),u.subject;const m={checkChildren:i,subject:new O.x,rootNode:a};return this._elementInfo.set(n,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const i=(0,E.fI)(e),n=this._elementInfo.get(i);n&&(n.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(n))}focusVia(e,i,n){const a=(0,E.fI)(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([m,I])=>this._originChanged(m,i,I)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const n=this._elementInfo.get(i),a=(0,b.sA)(e);!n||!n.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),n)}_onBlur(e,i){const n=this._elementInfo.get(i);!n||n.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(n,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,n=this._rootNodeFocusListenerCount.get(i)||0;n||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,U),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,U)}),this._rootNodeFocusListenerCount.set(i,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,B.R)(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const n=this._rootNodeFocusListenerCount.get(i);n>1?this._rootNodeFocusListenerCount.set(i,n-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,U),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,U),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,n){this._setClasses(e,i),this._emitOrigin(n,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((n,a)=>{(a===e||n.checkChildren&&a.contains(e))&&i.push([a,n])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:n}=this._inputModalityDetector;if("mouse"!==n||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const a=e.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(i))return!0;return!1}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(l.R0b),l.LFG(b.t4),l.LFG(De),l.LFG(T.K0,8),l.LFG(ke,8))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ce="cdk-high-contrast-black-on-white",le="cdk-high-contrast-white-on-black",J="cdk-high-contrast-active";let we=(()=>{class s{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,l.f3M)(F).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,n=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(n&&n.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(J,ce,le),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(J,ce):2===i&&e.add(J,le)}}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(b.t4),l.LFG(T.K0))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Re=(()=>{class s{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(we))},s.\u0275mod=l.oAB({type:s}),s.\u0275inj=l.cJS({imports:[z]}),s})()},7855:(de,W,_)=>{_.d(W,{Kt:()=>V,Su:()=>Q,Vq:()=>j,zj:()=>E});var T=_(2016),l=_(8184),b=_(3353),C=_(4080),O=_(6895),d=_(1571),M=_(9521),k=_(7579),S=_(9770),G=_(9646),L=_(445),N=_(8675);function H(f,g){}class w{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let B=(()=>{class f extends C.en{constructor(o,r,c,h,v,p,F,x){super(),this._elementRef=o,this._focusTrapFactory=r,this._config=h,this._interactivityChecker=v,this._ngZone=p,this._overlayRef=F,this._focusMonitor=x,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=ee=>{this._portalOutlet.hasAttached();const K=this._portalOutlet.attachDomPortal(ee);return this._contentAttached(),K},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=c}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(o){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(o);return this._contentAttached(),r}attachTemplatePortal(o){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(o);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(o,r){this._interactivityChecker.isFocusable(o)||(o.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const c=()=>{o.removeEventListener("blur",c),o.removeEventListener("mousedown",c),o.removeAttribute("tabindex")};o.addEventListener("blur",c),o.addEventListener("mousedown",c)})),o.focus(r)}_focusByCssSelector(o,r){let c=this._elementRef.nativeElement.querySelector(o);c&&this._forceFocus(c,r)}_trapFocus(){const o=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||o.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const o=this._config.restoreFocus;let r=null;if("string"==typeof o?r=this._document.querySelector(o):"boolean"==typeof o?r=o?this._elementFocusedBeforeDialogWasOpened:null:o&&(r=o),this._config.restoreFocus&&r&&"function"==typeof r.focus){const c=(0,b.ht)(),h=this._elementRef.nativeElement;(!c||c===this._document.body||c===h||h.contains(c))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const o=this._elementRef.nativeElement,r=(0,b.ht)();return o===r||o.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,b.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return f.\u0275fac=function(o){return new(o||f)(d.Y36(d.SBq),d.Y36(T.qV),d.Y36(O.K0,8),d.Y36(w),d.Y36(T.ic),d.Y36(d.R0b),d.Y36(l.Iu),d.Y36(T.tE))},f.\u0275cmp=d.Xpm({type:f,selectors:[["cdk-dialog-container"]],viewQuery:function(o,r){if(1&o&&d.Gf(C.Pl,7),2&o){let c;d.iGM(c=d.CRH())&&(r._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(o,r){2&o&&d.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(o,r){1&o&&d.YNc(0,H,0,0,"ng-template",0)},dependencies:[C.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),f})();class E{constructor(g,o){this.overlayRef=g,this.config=o,this.closed=new k.x,this.disableClose=o.disableClose,this.backdropClick=g.backdropClick(),this.keydownEvents=g.keydownEvents(),this.outsidePointerEvents=g.outsidePointerEvents(),this.id=o.id,this.keydownEvents.subscribe(r=>{r.keyCode===M.hY&&!this.disableClose&&!(0,M.Vb)(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(g,o){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=o?.focusOrigin||"program",this.overlayRef.dispose(),r.next(g),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(g="",o=""){return this.overlayRef.updateSize({width:g,height:o}),this}addPanelClass(g){return this.overlayRef.addPanelClass(g),this}removePanelClass(g){return this.overlayRef.removePanelClass(g),this}}const P=new d.OlP("DialogScrollStrategy"),V=new d.OlP("DialogData"),q=new d.OlP("DefaultDialogConfig"),$={provide:P,deps:[l.aV],useFactory:function z(f){return()=>f.scrollStrategies.block()}};let X=0,j=(()=>{class f{constructor(o,r,c,h,v,p){this._overlay=o,this._injector=r,this._defaultOptions=c,this._parentDialog=h,this._overlayContainer=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new k.x,this._afterOpenedAtThisLevel=new k.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,S.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,N.O)(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(o,r){(r={...this._defaultOptions||new w,...r}).id=r.id||"cdk-dialog-"+X++,r.id&&this.getDialogById(r.id);const h=this._getOverlayConfig(r),v=this._overlay.create(h),p=new E(v,r),F=this._attachContainer(v,p,r);return p.containerInstance=F,this._attachDialogContent(o,p,F,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(p),p.closed.subscribe(()=>this._removeOpenDialog(p,!0)),this.afterOpened.next(p),p}closeAll(){R(this.openDialogs,o=>o.close())}getDialogById(o){return this.openDialogs.find(r=>r.id===o)}ngOnDestroy(){R(this._openDialogsAtThisLevel,o=>{!1===o.config.closeOnDestroy&&this._removeOpenDialog(o,!1)}),R(this._openDialogsAtThisLevel,o=>o.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(o){const r=new l.X_({positionStrategy:o.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:o.scrollStrategy||this._scrollStrategy(),panelClass:o.panelClass,hasBackdrop:o.hasBackdrop,direction:o.direction,minWidth:o.minWidth,minHeight:o.minHeight,maxWidth:o.maxWidth,maxHeight:o.maxHeight,width:o.width,height:o.height,disposeOnNavigation:o.closeOnNavigation});return o.backdropClass&&(r.backdropClass=o.backdropClass),r}_attachContainer(o,r,c){const h=c.injector??c.viewContainerRef?.injector,v=[{provide:w,useValue:c},{provide:E,useValue:r},{provide:l.Iu,useValue:o}];let p;c.container?"function"==typeof c.container?p=c.container:(p=c.container.type,v.push(...c.container.providers(c))):p=B;const F=new C.C5(p,c.viewContainerRef,d.zs3.create({parent:h||this._injector,providers:v}),c.componentFactoryResolver);return o.attach(F).instance}_attachDialogContent(o,r,c,h){const v=this._createInjector(h,r,c);if(o instanceof d.Rgc){let p={$implicit:h.data,dialogRef:r};h.templateContext&&(p={...p,..."function"==typeof h.templateContext?h.templateContext():h.templateContext}),c.attachTemplatePortal(new C.UE(o,null,p,v))}else{const p=c.attachComponentPortal(new C.C5(o,h.viewContainerRef,v,h.componentFactoryResolver));r.componentInstance=p.instance}}_createInjector(o,r,c){const h=o&&o.viewContainerRef&&o.viewContainerRef.injector,v=[{provide:V,useValue:o.data},{provide:E,useValue:r}];return o.providers&&("function"==typeof o.providers?v.push(...o.providers(r,o,c)):v.push(...o.providers)),o.direction&&(!h||!h.get(L.Is,null,d.XFs.Optional))&&v.push({provide:L.Is,useValue:{value:o.direction,change:(0,G.of)()}}),d.zs3.create({parent:h||this._injector,providers:v})}_removeOpenDialog(o,r){const c=this.openDialogs.indexOf(o);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((h,v)=>{h?v.setAttribute("aria-hidden",h):v.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const o=this._overlayContainer.getContainerElement();if(o.parentElement){const r=o.parentElement.children;for(let c=r.length-1;c>-1;c--){const h=r[c];h!==o&&"SCRIPT"!==h.nodeName&&"STYLE"!==h.nodeName&&!h.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(h,h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const o=this._parentDialog;return o?o._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return f.\u0275fac=function(o){return new(o||f)(d.LFG(l.aV),d.LFG(d.zs3),d.LFG(q,8),d.LFG(f,12),d.LFG(l.Xj),d.LFG(P))},f.\u0275prov=d.Yz7({token:f,factory:f.\u0275fac}),f})();function R(f,g){let o=f.length;for(;o--;)g(f[o])}let Q=(()=>{class f{}return f.\u0275fac=function(o){return new(o||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({providers:[j,$],imports:[l.U8,C.eL,T.rt,C.eL]}),f})()}}]);