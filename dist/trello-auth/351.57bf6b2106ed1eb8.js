"use strict";(self.webpackChunktrello_auth=self.webpackChunktrello_auth||[]).push([[351],{3351:(Cc,$,h)=>{h.r($),h.d($,{BoardsModule:()=>zc});var b=h(6895),e=h(1571),E=h(1273),M=h(3353),z=h(1281),X=h(2016),p=h(7579),H=h(727),Z1=h(4986),F1=h(5963),B1=h(6406),c1=h(9751),e1=h(6451),A=h(2722),q=h(8675),G1=h(4004),a1=h(5698),U1=h(8505),J1=h(3900),i1=h(445);function Z(o,a,c){for(let i in a)if(a.hasOwnProperty(i)){const t=a[i];t?o.setProperty(i,t,c?.has(i)?"important":""):o.removeProperty(i)}return o}function L(o,a){const c=a?"":"none";Z(o.style,{"touch-action":a?"":"none","-webkit-user-drag":a?"":"none","-webkit-tap-highlight-color":a?"":"transparent","user-select":c,"-ms-user-select":c,"-webkit-user-select":c,"-moz-user-select":c})}function t1(o,a,c){Z(o.style,{position:a?"":"fixed",top:a?"":"0",opacity:a?"":"0",left:a?"":"-999em"},c)}function k(o,a){return a&&"none"!=a?o+" "+a:o}function o1(o){const a=o.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(o)*a}function F(o,a){return o.getPropertyValue(a).split(",").map(i=>i.trim())}function O(o){const a=o.getBoundingClientRect();return{top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:a.width,height:a.height,x:a.x,y:a.y}}function B(o,a,c){const{top:i,bottom:t,left:r,right:n}=o;return c>=i&&c<=t&&a>=r&&a<=n}function N(o,a,c){o.top+=a,o.bottom=o.top+o.height,o.left+=c,o.right=o.left+o.width}function r1(o,a,c,i){const{top:t,right:r,bottom:n,left:s,width:l,height:f}=o,m=l*a,C=f*a;return i>t-C&&i<n+C&&c>s-m&&c<r+m}class n1{constructor(a){this._document=a,this.positions=new Map}clear(){this.positions.clear()}cache(a){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),a.forEach(c=>{this.positions.set(c,{scrollPosition:{top:c.scrollTop,left:c.scrollLeft},clientRect:O(c)})})}handleScroll(a){const c=(0,M.sA)(a),i=this.positions.get(c);if(!i)return null;const t=i.scrollPosition;let r,n;if(c===this._document){const f=this.getViewportScrollPosition();r=f.top,n=f.left}else r=c.scrollTop,n=c.scrollLeft;const s=t.top-r,l=t.left-n;return this.positions.forEach((f,m)=>{f.clientRect&&c!==m&&c.contains(m)&&N(f.clientRect,s,l)}),t.top=r,t.left=n,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function s1(o){const a=o.cloneNode(!0),c=a.querySelectorAll("[id]"),i=o.nodeName.toLowerCase();a.removeAttribute("id");for(let t=0;t<c.length;t++)c[t].removeAttribute("id");return"canvas"===i?h1(o,a):("input"===i||"select"===i||"textarea"===i)&&f1(o,a),l1("canvas",o,a,h1),l1("input, textarea, select",o,a,f1),a}function l1(o,a,c,i){const t=a.querySelectorAll(o);if(t.length){const r=c.querySelectorAll(o);for(let n=0;n<t.length;n++)i(t[n],r[n])}}let W1=0;function f1(o,a){"file"!==a.type&&(a.value=o.value),"radio"===a.type&&a.name&&(a.name=`mat-clone-${a.name}-${W1++}`)}function h1(o,a){const c=a.getContext("2d");if(c)try{c.drawImage(o,0,0)}catch{}}const m1=(0,M.i$)({passive:!0}),P=(0,M.i$)({passive:!1}),G=new Set(["position"]);class j1{constructor(a,c,i,t,r,n){this._config=c,this._document=i,this._ngZone=t,this._viewportRuler=r,this._dragDropRegistry=n,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new p.x,this._pointerMoveSubscription=H.w0.EMPTY,this._pointerUpSubscription=H.w0.EMPTY,this._scrollSubscription=H.w0.EMPTY,this._resizeSubscription=H.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new p.x,this.started=new p.x,this.released=new p.x,this.ended=new p.x,this.entered=new p.x,this.exited=new p.x,this.dropped=new p.x,this.moved=this._moveEvents,this._pointerDown=s=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(s);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,s)}else this.disabled||this._initializeDragSequence(this._rootElement,s)},this._pointerMove=s=>{const l=this._getPointerPositionOnPage(s);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const _=Date.now()>=this._dragStartTime+this._getDragStartDelay(s),x=this._dropContainer;if(!_)return void this._endDragSequence(s);(!x||!x.isDragging()&&!x.isReceiving())&&(s.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(s)))}return}s.preventDefault();const f=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(f),this._dropContainer)this._updateActiveDropContainer(f,l);else{const m=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,C=this._activeTransform;C.x=f.x-m.x+this._passiveTransform.x,C.y=f.y-m.y+this._passiveTransform.y,this._applyRootElementTransform(C.x,C.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:f,event:s,distance:this._getDragDistance(f),delta:this._pointerDirectionDelta})})},this._pointerUp=s=>{this._endDragSequence(s)},this._nativeDragStart=s=>{if(this._handles.length){const l=this._getTargetHandle(s);l&&!this._disabledHandles.has(l)&&!this.disabled&&s.preventDefault()}else this.disabled||s.preventDefault()},this.withRootElement(a).withParent(c.parentDragRef||null),this._parentPositions=new n1(i),n.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(a){const c=(0,z.Ig)(a);c!==this._disabled&&(this._disabled=c,this._toggleNativeDragInteractions(),this._handles.forEach(i=>L(i,c)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(a){this._handles=a.map(i=>(0,z.fI)(i)),this._handles.forEach(i=>L(i,this.disabled)),this._toggleNativeDragInteractions();const c=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&c.add(i)}),this._disabledHandles=c,this}withPreviewTemplate(a){return this._previewTemplate=a,this}withPlaceholderTemplate(a){return this._placeholderTemplate=a,this}withRootElement(a){const c=(0,z.fI)(a);return c!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{c.addEventListener("mousedown",this._pointerDown,P),c.addEventListener("touchstart",this._pointerDown,m1),c.addEventListener("dragstart",this._nativeDragStart,P)}),this._initialTransform=void 0,this._rootElement=c),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(a){return this._boundaryElement=a?(0,z.fI)(a):null,this._resizeSubscription.unsubscribe(),a&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(a){return this._parentDragRef=a,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(a){!this._disabledHandles.has(a)&&this._handles.indexOf(a)>-1&&(this._disabledHandles.add(a),L(a,!0))}enableHandle(a){this._disabledHandles.has(a)&&(this._disabledHandles.delete(a),L(a,this.disabled))}withDirection(a){return this._direction=a,this}_withDropContainer(a){this._dropContainer=a}getFreeDragPosition(){const a=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:a.x,y:a.y}}setFreeDragPosition(a){return this._activeTransform={x:0,y:0},this._passiveTransform.x=a.x,this._passiveTransform.y=a.y,this._dropContainer||this._applyRootElementTransform(a.x,a.y),this}withPreviewContainer(a){return this._previewContainer=a,this}_sortFromLastPointerPosition(){const a=this._lastKnownPointerPosition;a&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(a),a)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(a){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:a}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(a),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const c=this._getPointerPositionOnPage(a);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(c),dropPoint:c,event:a})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(a){y(a)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const c=this._dropContainer;if(c){const i=this._rootElement,t=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),n=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();t.insertBefore(n,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),t1(i,!1,G),this._document.body.appendChild(t.replaceChild(r,i)),this._getPreviewInsertionPoint(t,s).appendChild(this._preview),this.started.next({source:this,event:a}),c.start(),this._initialContainer=c,this._initialIndex=c.getItemIndex(this)}else this.started.next({source:this,event:a}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(c?c.getScrollableParents():[])}_initializeDragSequence(a,c){this._parentDragRef&&c.stopPropagation();const i=this.isDragging(),t=y(c),r=!t&&0!==c.button,n=this._rootElement,s=(0,M.sA)(c),l=!t&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),f=t?(0,X.yG)(c):(0,X.X6)(c);if(s&&s.draggable&&"mousedown"===c.type&&c.preventDefault(),i||r||l||f)return;if(this._handles.length){const u=n.style;this._rootElementTapHighlight=u.webkitTapHighlightColor||"",u.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(u=>this._updateOnScroll(u)),this._boundaryElement&&(this._boundaryRect=O(this._boundaryElement));const m=this._previewTemplate;this._pickupPositionInElement=m&&m.template&&!m.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,a,c);const C=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(c);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:C.x,y:C.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,c)}_cleanupDragArtifacts(a){t1(this._rootElement,!0,G),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const c=this._dropContainer,i=c.getItemIndex(this),t=this._getPointerPositionOnPage(a),r=this._getDragDistance(t),n=c._isOverContainer(t.x,t.y);this.ended.next({source:this,distance:r,dropPoint:t,event:a}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:c,previousContainer:this._initialContainer,isPointerOverContainer:n,distance:r,dropPoint:t,event:a}),c.drop(this,i,this._initialIndex,this._initialContainer,n,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:a,y:c},{x:i,y:t}){let r=this._initialContainer._getSiblingContainerFromPosition(this,a,c);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(a,c)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,a,c,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,t),this._dropContainer._sortItem(this,a,c,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(a,c):this._applyPreviewTransform(a-this._pickupPositionInElement.x,c-this._pickupPositionInElement.y))}_createPreviewElement(){const a=this._previewTemplate,c=this.previewClass,i=a?a.template:null;let t;if(i&&a){const r=a.matchSize?this._initialClientRect:null,n=a.viewContainer.createEmbeddedView(i,a.context);n.detectChanges(),t=v1(n,this._document),this._previewRef=n,a.matchSize?z1(t,r):t.style.transform=T(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else t=s1(this._rootElement),z1(t,this._initialClientRect),this._initialTransform&&(t.style.transform=this._initialTransform);return Z(t.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},G),L(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),c&&(Array.isArray(c)?c.forEach(r=>t.classList.add(r)):t.classList.add(c)),t}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const a=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(a.left,a.top);const c=function Y1(o){const a=getComputedStyle(o),c=F(a,"transition-property"),i=c.find(s=>"transform"===s||"all"===s);if(!i)return 0;const t=c.indexOf(i),r=F(a,"transition-duration"),n=F(a,"transition-delay");return o1(r[t])+o1(n[t])}(this._preview);return 0===c?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const t=n=>{(!n||(0,M.sA)(n)===this._preview&&"transform"===n.propertyName)&&(this._preview?.removeEventListener("transitionend",t),i(),clearTimeout(r))},r=setTimeout(t,1.5*c);this._preview.addEventListener("transitionend",t)}))}_createPlaceholderElement(){const a=this._placeholderTemplate,c=a?a.template:null;let i;return c?(this._placeholderRef=a.viewContainer.createEmbeddedView(c,a.context),this._placeholderRef.detectChanges(),i=v1(this._placeholderRef,this._document)):i=s1(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(a,c,i){const t=c===this._rootElement?null:c,r=t?t.getBoundingClientRect():a,n=y(i)?i.targetTouches[0]:i,s=this._getViewportScrollPosition();return{x:r.left-a.left+(n.pageX-r.left-s.left),y:r.top-a.top+(n.pageY-r.top-s.top)}}_getPointerPositionOnPage(a){const c=this._getViewportScrollPosition(),i=y(a)?a.touches[0]||a.changedTouches[0]||{pageX:0,pageY:0}:a,t=i.pageX-c.left,r=i.pageY-c.top;if(this._ownerSVGElement){const n=this._ownerSVGElement.getScreenCTM();if(n){const s=this._ownerSVGElement.createSVGPoint();return s.x=t,s.y=r,s.matrixTransform(n.inverse())}}return{x:t,y:r}}_getConstrainedPointerPosition(a){const c=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:t}=this.constrainPosition?this.constrainPosition(a,this,this._initialClientRect):a;if("x"===this.lockAxis||"x"===c?t=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===c)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:n}=this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:f}=this._getPreviewRect(),m=s.top+n,C=s.bottom-(f-n);i=d1(i,s.left+r,s.right-(l-r)),t=d1(t,m,C)}return{x:i,y:t}}_updatePointerDirectionDelta(a){const{x:c,y:i}=a,t=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,n=Math.abs(c-r.x),s=Math.abs(i-r.y);return n>this._config.pointerDirectionChangeThreshold&&(t.x=c>r.x?1:-1,r.x=c),s>this._config.pointerDirectionChangeThreshold&&(t.y=i>r.y?1:-1,r.y=i),t}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const a=this._handles.length>0||!this.isDragging();a!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=a,L(this._rootElement,a))}_removeRootElementListeners(a){a.removeEventListener("mousedown",this._pointerDown,P),a.removeEventListener("touchstart",this._pointerDown,m1),a.removeEventListener("dragstart",this._nativeDragStart,P)}_applyRootElementTransform(a,c){const i=T(a,c),t=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=t.transform&&"none"!=t.transform?t.transform:""),t.transform=k(i,this._initialTransform)}_applyPreviewTransform(a,c){const i=this._previewTemplate?.template?void 0:this._initialTransform,t=T(a,c);this._preview.style.transform=k(t,i)}_getDragDistance(a){const c=this._pickupPositionOnPage;return c?{x:a.x-c.x,y:a.y-c.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:a,y:c}=this._passiveTransform;if(0===a&&0===c||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),t=this._boundaryElement.getBoundingClientRect();if(0===t.width&&0===t.height||0===i.width&&0===i.height)return;const r=t.left-i.left,n=i.right-t.right,s=t.top-i.top,l=i.bottom-t.bottom;t.width>i.width?(r>0&&(a+=r),n>0&&(a-=n)):a=0,t.height>i.height?(s>0&&(c+=s),l>0&&(c-=l)):c=0,(a!==this._passiveTransform.x||c!==this._passiveTransform.y)&&this.setFreeDragPosition({y:c,x:a})}_getDragStartDelay(a){const c=this.dragStartDelay;return"number"==typeof c?c:y(a)?c.touch:c?c.mouse:0}_updateOnScroll(a){const c=this._parentPositions.handleScroll(a);if(c){const i=(0,M.sA)(a);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&N(this._boundaryRect,c.top,c.left),this._pickupPositionOnPage.x+=c.left,this._pickupPositionOnPage.y+=c.top,this._dropContainer||(this._activeTransform.x-=c.left,this._activeTransform.y-=c.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,M.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(a,c){const i=this._previewContainer||"global";if("parent"===i)return a;if("global"===i){const t=this._document;return c||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}return(0,z.fI)(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(a){return this._handles.find(c=>a.target&&(a.target===c||c.contains(a.target)))}}function T(o,a){return`translate3d(${Math.round(o)}px, ${Math.round(a)}px, 0)`}function d1(o,a,c){return Math.max(a,Math.min(c,o))}function y(o){return"t"===o.type[0]}function v1(o,a){const c=o.rootNodes;if(1===c.length&&c[0].nodeType===a.ELEMENT_NODE)return c[0];const i=a.createElement("div");return c.forEach(t=>i.appendChild(t)),i}function z1(o,a){o.style.width=`${a.width}px`,o.style.height=`${a.height}px`,o.style.transform=T(a.left,a.top)}function p1(o,a,c){const i=D(a,o.length-1),t=D(c,o.length-1);if(i===t)return;const r=o[i],n=t<i?-1:1;for(let s=i;s!==t;s+=n)o[s]=o[s+n];o[t]=r}function D(o,a){return Math.max(0,Math.min(a,o))}class $1{constructor(a,c){this._element=a,this._dragDropRegistry=c,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(a){this.withItems(a)}sort(a,c,i,t){const r=this._itemPositions,n=this._getItemIndexFromPointerPosition(a,c,i,t);if(-1===n&&r.length>0)return null;const s="horizontal"===this.orientation,l=r.findIndex(g=>g.drag===a),f=r[n],C=f.clientRect,u=l>n?1:-1,_=this._getItemOffsetPx(r[l].clientRect,C,u),x=this._getSiblingOffsetPx(l,r,u),S=r.slice();return p1(r,l,n),r.forEach((g,pc)=>{if(S[pc]===g)return;const E1=g.drag===a,K=E1?_:x,q1=E1?a.getPlaceholderElement():g.drag.getRootElement();g.offset+=K,s?(q1.style.transform=k(`translate3d(${Math.round(g.offset)}px, 0, 0)`,g.initialTransform),N(g.clientRect,0,K)):(q1.style.transform=k(`translate3d(0, ${Math.round(g.offset)}px, 0)`,g.initialTransform),N(g.clientRect,K,0))}),this._previousSwap.overlaps=B(C,c,i),this._previousSwap.drag=f.drag,this._previousSwap.delta=s?t.x:t.y,{previousIndex:l,currentIndex:n}}enter(a,c,i,t){const r=null==t||t<0?this._getItemIndexFromPointerPosition(a,c,i):t,n=this._activeDraggables,s=n.indexOf(a),l=a.getPlaceholderElement();let f=n[r];if(f===a&&(f=n[r+1]),!f&&(null==r||-1===r||r<n.length-1)&&this._shouldEnterAsFirstChild(c,i)&&(f=n[0]),s>-1&&n.splice(s,1),f&&!this._dragDropRegistry.isDragging(f)){const m=f.getRootElement();m.parentElement.insertBefore(l,m),n.splice(r,0,a)}else(0,z.fI)(this._element).appendChild(l),n.push(a);l.style.transform="",this._cacheItemPositions()}withItems(a){this._activeDraggables=a.slice(),this._cacheItemPositions()}withSortPredicate(a){this._sortPredicate=a}reset(){this._activeDraggables.forEach(a=>{const c=a.getRootElement();if(c){const i=this._itemPositions.find(t=>t.drag===a)?.initialTransform;c.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(a){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===a)}updateOnScroll(a,c){this._itemPositions.forEach(({clientRect:i})=>{N(i,a,c)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const a="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(c=>{const i=c.getVisibleElement();return{drag:c,offset:0,initialTransform:i.style.transform||"",clientRect:O(i)}}).sort((c,i)=>a?c.clientRect.left-i.clientRect.left:c.clientRect.top-i.clientRect.top)}_getItemOffsetPx(a,c,i){const t="horizontal"===this.orientation;let r=t?c.left-a.left:c.top-a.top;return-1===i&&(r+=t?c.width-a.width:c.height-a.height),r}_getSiblingOffsetPx(a,c,i){const t="horizontal"===this.orientation,r=c[a].clientRect,n=c[a+-1*i];let s=r[t?"width":"height"]*i;if(n){const l=t?"left":"top",f=t?"right":"bottom";-1===i?s-=n.clientRect[l]-r[f]:s+=r[l]-n.clientRect[f]}return s}_shouldEnterAsFirstChild(a,c){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,t="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const n=i[i.length-1].clientRect;return t?a>=n.right:c>=n.bottom}{const n=i[0].clientRect;return t?a<=n.left:c<=n.top}}_getItemIndexFromPointerPosition(a,c,i,t){const r="horizontal"===this.orientation,n=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===a)return!1;if(t){const f=r?t.x:t.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&f===this._previousSwap.delta)return!1}return r?c>=Math.floor(l.left)&&c<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==n&&this._sortPredicate(n,a)?n:-1}}class X1{constructor(a,c,i,t,r){this._dragDropRegistry=c,this._ngZone=t,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new p.x,this.entered=new p.x,this.exited=new p.x,this.dropped=new p.x,this.sorted=new p.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=H.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new p.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function O1(o=0,a=Z1.z){return o<0&&(o=0),(0,F1.H)(o,o,a)}(0,B1.Z).pipe((0,A.R)(this._stopScrollTimers)).subscribe(()=>{const n=this._scrollNode,s=this.autoScrollStep;1===this._verticalScrollDirection?n.scrollBy(0,-s):2===this._verticalScrollDirection&&n.scrollBy(0,s),1===this._horizontalScrollDirection?n.scrollBy(-s,0):2===this._horizontalScrollDirection&&n.scrollBy(s,0)})},this.element=(0,z.fI)(a),this._document=i,this.withScrollableParents([this.element]),c.registerDropContainer(this),this._parentPositions=new n1(i),this._sortStrategy=new $1(this.element,c),this._sortStrategy.withSortPredicate((n,s)=>this.sortPredicate(n,s,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(a,c,i,t){this._draggingStarted(),null==t&&this.sortingDisabled&&(t=this._draggables.indexOf(a)),this._sortStrategy.enter(a,c,i,t),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:a,container:this,currentIndex:this.getItemIndex(a)})}exit(a){this._reset(),this.exited.next({item:a,container:this})}drop(a,c,i,t,r,n,s,l={}){this._reset(),this.dropped.next({item:a,currentIndex:c,previousIndex:i,container:this,previousContainer:t,isPointerOverContainer:r,distance:n,dropPoint:s,event:l})}withItems(a){const c=this._draggables;return this._draggables=a,a.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(c.filter(t=>t.isDragging()).every(t=>-1===a.indexOf(t))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(a){return this._sortStrategy.direction=a,this}connectedTo(a){return this._siblings=a.slice(),this}withOrientation(a){return this._sortStrategy.orientation=a,this}withScrollableParents(a){const c=(0,z.fI)(this.element);return this._scrollableElements=-1===a.indexOf(c)?[c,...a]:a.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(a){return this._isDragging?this._sortStrategy.getItemIndex(a):this._draggables.indexOf(a)}isReceiving(){return this._activeSiblings.size>0}_sortItem(a,c,i,t){if(this.sortingDisabled||!this._clientRect||!r1(this._clientRect,.05,c,i))return;const r=this._sortStrategy.sort(a,c,i,t);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:a})}_startScrollingIfNecessary(a,c){if(this.autoScrollDisabled)return;let i,t=0,r=0;if(this._parentPositions.positions.forEach((n,s)=>{s===this._document||!n.clientRect||i||r1(n.clientRect,.05,a,c)&&([t,r]=function c2(o,a,c,i){const t=g1(a,i),r=b1(a,c);let n=0,s=0;if(t){const l=o.scrollTop;1===t?l>0&&(n=1):o.scrollHeight-l>o.clientHeight&&(n=2)}if(r){const l=o.scrollLeft;1===r?l>0&&(s=1):o.scrollWidth-l>o.clientWidth&&(s=2)}return[n,s]}(s,n.clientRect,a,c),(t||r)&&(i=s))}),!t&&!r){const{width:n,height:s}=this._viewportRuler.getViewportSize(),l={width:n,height:s,top:0,right:n,bottom:s,left:0};t=g1(l,c),r=b1(l,a),i=window}i&&(t!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=t,this._horizontalScrollDirection=r,this._scrollNode=i,(t||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const a=(0,z.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=a.msScrollSnapType||a.scrollSnapType||"",a.scrollSnapType=a.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const a=(0,z.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(a).clientRect}_reset(){this._isDragging=!1;const a=(0,z.fI)(this.element).style;a.scrollSnapType=a.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(c=>c._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(a,c){return null!=this._clientRect&&B(this._clientRect,a,c)}_getSiblingContainerFromPosition(a,c,i){return this._siblings.find(t=>t._canReceive(a,c,i))}_canReceive(a,c,i){if(!this._clientRect||!B(this._clientRect,c,i)||!this.enterPredicate(a,this))return!1;const t=this._getShadowRoot().elementFromPoint(c,i);if(!t)return!1;const r=(0,z.fI)(this.element);return t===r||r.contains(t)}_startReceiving(a,c){const i=this._activeSiblings;!i.has(a)&&c.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(i.add(a),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(a){this._activeSiblings.delete(a),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(a=>{if(this.isDragging()){const c=this._parentPositions.handleScroll(a);c&&this._sortStrategy.updateOnScroll(c.top,c.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const a=(0,M.kV)((0,z.fI)(this.element));this._cachedShadowRoot=a||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const a=this._sortStrategy.getActiveItemsSnapshot().filter(c=>c.isDragging());this._siblings.forEach(c=>c._startReceiving(this,a))}}function g1(o,a){const{top:c,bottom:i,height:t}=o,r=.05*t;return a>=c-r&&a<=c+r?1:a>=i-r&&a<=i+r?2:0}function b1(o,a){const{left:c,right:i,width:t}=o,r=.05*t;return a>=c-r&&a<=c+r?1:a>=i-r&&a<=i+r?2:0}const R=(0,M.i$)({passive:!1,capture:!0});let e2=(()=>{class o{constructor(c,i){this._ngZone=c,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=t=>t.isDragging(),this.pointerMove=new p.x,this.pointerUp=new p.x,this.scroll=new p.x,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))},this._document=i}registerDropContainer(c){this._dropInstances.has(c)||this._dropInstances.add(c)}registerDragItem(c){this._dragInstances.add(c),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,R)})}removeDropContainer(c){this._dropInstances.delete(c)}removeDragItem(c){this._dragInstances.delete(c),this.stopDragging(c),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,R)}startDragging(c,i){if(!(this._activeDragInstances.indexOf(c)>-1)&&(this._activeDragInstances.push(c),1===this._activeDragInstances.length)){const t=i.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:R}),t||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:R}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,n)=>{this._document.addEventListener(n,r.handler,r.options)})})}}stopDragging(c){const i=this._activeDragInstances.indexOf(c);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(c){return this._activeDragInstances.indexOf(c)>-1}scrolled(c){const i=[this.scroll];return c&&c!==this._document&&i.push(new c1.y(t=>this._ngZone.runOutsideAngular(()=>{const n=s=>{this._activeDragInstances.length&&t.next(s)};return c.addEventListener("scroll",n,!0),()=>{c.removeEventListener("scroll",n,!0)}}))),(0,e1.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(c=>this.removeDragItem(c)),this._dropInstances.forEach(c=>this.removeDropContainer(c)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((c,i)=>{this._document.removeEventListener(i,c.handler,c.options)}),this._globalListeners.clear()}}return o.\u0275fac=function(c){return new(c||o)(e.LFG(e.R0b),e.LFG(b.K0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const a2={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let U=(()=>{class o{constructor(c,i,t,r){this._document=c,this._ngZone=i,this._viewportRuler=t,this._dragDropRegistry=r}createDrag(c,i=a2){return new j1(c,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(c){return new X1(c,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return o.\u0275fac=function(c){return new(c||o)(e.LFG(b.K0),e.LFG(e.R0b),e.LFG(E.rL),e.LFG(e2))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const M1=new e.OlP("CDK_DRAG_PARENT"),J=new e.OlP("CdkDropListGroup");let i2=(()=>{class o{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(c){this._disabled=(0,z.Ig)(c)}ngOnDestroy(){this._items.clear()}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275dir=e.lG2({type:o,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[e._Bn([{provide:J,useExisting:o}])]}),o})();const _1=new e.OlP("CDK_DRAG_CONFIG");let t2=0;const x1=new e.OlP("CdkDropList");let o2=(()=>{class o{constructor(c,i,t,r,n,s,l){this.element=c,this._changeDetectorRef=t,this._scrollDispatcher=r,this._dir=n,this._group=s,this._destroyed=new p.x,this.connectedTo=[],this.id="cdk-drop-list-"+t2++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(c),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(f,m)=>this.enterPredicate(f.data,m.data),this._dropListRef.sortPredicate=(f,m,C)=>this.sortPredicate(f,m.data,C.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),o._dropLists.push(this),s&&s._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(c){this._dropListRef.disabled=this._disabled=(0,z.Ig)(c)}addItem(c){this._unsortedItems.add(c),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(c){this._unsortedItems.delete(c),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((c,i)=>c._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const c=o._dropLists.indexOf(this);c>-1&&o._dropLists.splice(c,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(c){this._dir&&this._dir.change.pipe((0,q.O)(this._dir.value),(0,A.R)(this._destroyed)).subscribe(i=>c.withDirection(i)),c.beforeStarted.subscribe(()=>{const i=(0,z.Eq)(this.connectedTo).map(t=>"string"==typeof t?o._dropLists.find(n=>n.id===t):t);if(this._group&&this._group._items.forEach(t=>{-1===i.indexOf(t)&&i.push(t)}),!this._scrollableParentsResolved){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}c.disabled=this.disabled,c.lockAxis=this.lockAxis,c.sortingDisabled=(0,z.Ig)(this.sortingDisabled),c.autoScrollDisabled=(0,z.Ig)(this.autoScrollDisabled),c.autoScrollStep=(0,z.su)(this.autoScrollStep,2),c.connectedTo(i.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(c){c.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),c.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),c.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),c.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),c.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(c){const{lockAxis:i,draggingDisabled:t,sortingDisabled:r,listAutoScrollDisabled:n,listOrientation:s}=c;this.disabled=t??!1,this.sortingDisabled=r??!1,this.autoScrollDisabled=n??!1,this.orientation=s||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(c=>c._dragRef))}}return o._dropLists=[],o.\u0275fac=function(c){return new(c||o)(e.Y36(e.SBq),e.Y36(U),e.Y36(e.sBO),e.Y36(E.mF),e.Y36(i1.Is,8),e.Y36(J,12),e.Y36(_1,8))},o.\u0275dir=e.lG2({type:o,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(c,i){2&c&&(e.uIk("id",i.id),e.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:J,useValue:void 0},{provide:x1,useExisting:o}])]}),o})();const H1=new e.OlP("CdkDragHandle"),r2=new e.OlP("CdkDragPlaceholder"),n2=new e.OlP("CdkDragPreview");let l2=(()=>{class o{constructor(c,i,t,r,n,s,l,f,m,C,u){this.element=c,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=n,this._dir=l,this._changeDetectorRef=m,this._selfHandle=C,this._parentDrag=u,this._destroyed=new p.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new c1.y(_=>{const x=this._dragRef.moved.pipe((0,G1.U)(S=>({source:this,pointerPosition:S.pointerPosition,event:S.event,delta:S.delta,distance:S.distance}))).subscribe(_);return()=>{x.unsubscribe()}}),this._dragRef=f.createDrag(c,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:s?.zIndex}),this._dragRef.data=this,o._dragInstances.push(this),s&&this._assignDefaults(s),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(c){this._disabled=(0,z.Ig)(c),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(c){this._dragRef.setFreeDragPosition(c)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,a1.q)(1),(0,A.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(c){const i=c.rootElementSelector,t=c.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),t&&!t.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const c=o._dragInstances.indexOf(this);c>-1&&o._dragInstances.splice(c,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const c=this.element.nativeElement;let i=c;this.rootElementSelector&&(i=void 0!==c.closest?c.closest(this.rootElementSelector):c.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||c)}_getBoundaryElement(){const c=this.boundaryElement;return c?"string"==typeof c?this.element.nativeElement.closest(c):(0,z.fI)(c):null}_syncInputs(c){c.beforeStarted.subscribe(()=>{if(!c.isDragging()){const i=this._dir,t=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,n=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;c.disabled=this.disabled,c.lockAxis=this.lockAxis,c.dragStartDelay="object"==typeof t&&t?t:(0,z.su)(t),c.constrainPosition=this.constrainPosition,c.previewClass=this.previewClass,c.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(n).withPreviewContainer(this.previewContainer||"global"),i&&c.withDirection(i.value)}}),c.beforeStarted.pipe((0,a1.q)(1)).subscribe(()=>{if(this._parentDrag)return void c.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){c.withParent(o._dragInstances.find(t=>t.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(c){c.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),c.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),c.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),c.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),c.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),c.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(c){const{lockAxis:i,dragStartDelay:t,constrainPosition:r,previewClass:n,boundaryElement:s,draggingDisabled:l,rootElementSelector:f,previewContainer:m}=c;this.disabled=l??!1,this.dragStartDelay=t||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),n&&(this.previewClass=n),s&&(this.boundaryElement=s),f&&(this.rootElementSelector=f),m&&(this.previewContainer=m)}_setupHandlesListener(){this._handles.changes.pipe((0,q.O)(this._handles),(0,U1.b)(c=>{const i=c.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,J1.w)(c=>(0,e1.T)(...c.map(i=>i._stateChanges.pipe((0,q.O)(i))))),(0,A.R)(this._destroyed)).subscribe(c=>{const i=this._dragRef,t=c.element.nativeElement;c.disabled?i.disableHandle(t):i.enableHandle(t)})}}return o._dragInstances=[],o.\u0275fac=function(c){return new(c||o)(e.Y36(e.SBq),e.Y36(x1,12),e.Y36(b.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(_1,8),e.Y36(i1.Is,8),e.Y36(U),e.Y36(e.sBO),e.Y36(H1,10),e.Y36(M1,12))},o.\u0275dir=e.lG2({type:o,selectors:[["","cdkDrag",""]],contentQueries:function(c,i,t){if(1&c&&(e.Suo(t,n2,5),e.Suo(t,r2,5),e.Suo(t,H1,5)),2&c){let r;e.iGM(r=e.CRH())&&(i._previewTemplate=r.first),e.iGM(r=e.CRH())&&(i._placeholderTemplate=r.first),e.iGM(r=e.CRH())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(c,i){2&c&&e.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:M1,useExisting:o}]),e.TTD]}),o})(),f2=(()=>{class o{}return o.\u0275fac=function(c){return new(c||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[U],imports:[E.ZD]}),o})();var h2=h(5017);let m2=0;const Y=new e.OlP("CdkAccordion");let d2=(()=>{class o{constructor(){this._stateChanges=new p.x,this._openCloseAllActions=new p.x,this.id="cdk-accordion-"+m2++,this._multi=!1}get multi(){return this._multi}set multi(c){this._multi=(0,z.Ig)(c)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(c){this._stateChanges.next(c)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275dir=e.lG2({type:o,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[e._Bn([{provide:Y,useExisting:o}]),e.TTD]}),o})(),v2=0,z2=(()=>{class o{constructor(c,i,t){this.accordion=c,this._changeDetectorRef=i,this._expansionDispatcher=t,this._openCloseAllSubscription=H.w0.EMPTY,this.closed=new e.vpe,this.opened=new e.vpe,this.destroyed=new e.vpe,this.expandedChange=new e.vpe,this.id="cdk-accordion-child-"+v2++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=t.listen((r,n)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===n&&this.id!==r&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(c){c=(0,z.Ig)(c),this._expanded!==c&&(this._expanded=c,this.expandedChange.emit(c),c?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(c){this._disabled=(0,z.Ig)(c)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(c=>{this.disabled||(this.expanded=c)})}}return o.\u0275fac=function(c){return new(c||o)(e.Y36(Y,12),e.Y36(e.sBO),e.Y36(h2.A8))},o.\u0275dir=e.lG2({type:o,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[e._Bn([{provide:Y,useValue:void 0}])]}),o})(),p2=(()=>{class o{}return o.\u0275fac=function(c){return new(c||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({}),o})();var V=h(7855),w=h(3868),d=h(433),C2=h(2271),I=h(6239),v=h(801),w1={prefix:"fab",iconName:"trello",icon:[448,512,[],"f181","M392.3 32H56.1C25.1 32 0 57.1 0 88c-.1 0 0-4 0 336 0 30.9 25.1 56 56 56h336.2c30.8-.2 55.7-25.2 55.7-56V88c.1-30.8-24.8-55.8-55.6-56zM197 371.3c-.2 14.7-12.1 26.6-26.9 26.6H87.4c-14.8 .1-26.9-11.8-27-26.6V117.1c0-14.8 12-26.9 26.9-26.9h82.9c14.8 0 26.9 12 26.9 26.9v254.2zm193.1-112c0 14.8-12 26.9-26.9 26.9h-81c-14.8 0-26.9-12-26.9-26.9V117.2c0-14.8 12-26.9 26.8-26.9h81.1c14.8 0 26.9 12 26.9 26.9v142.1z"]},Q9=h(2898),k1=h(4275);const j9=["*"];let K9=(()=>{class o{constructor(){this.color="sky",this.mapColors=k1.DM}get colors(){return this.mapColors[this.color]||{}}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-card-color"]],inputs:{color:"color"},ngContentSelectors:j9,decls:2,vars:1,consts:[[1,"w-full","px-4","py-2","rounded","font-bold","h-24",3,"ngClass"]],template:function(c,i){1&c&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA()),2&c&&e.Q6J("ngClass",i.colors)},dependencies:[b.mk],encapsulation:2}),o})();const $9=function(o){return["/app/boards",o]};function X9(o,a){if(1&o&&(e.TgZ(0,"a",14)(1,"app-card-color",15),e._uU(2),e.qZA()()),2&o){const c=a.$implicit;e.Q6J("routerLink",e.VKq(3,$9,c.id)),e.xp6(1),e.Q6J("color",c.backgroundColor),e.xp6(1),e.hij(" ",c.title," ")}}let cc=(()=>{class o{constructor(c){this.meService=c,this.boards=[],this.faTrello=w1,this.faBox=v.hVM,this.faWaveSquare=v.fQK,this.faClock=v.SZw,this.faAngleUp=v.onQ,this.faAngleDown=v.gc2,this.faHeart=v.m6i,this.faBorderAll=v.ofh,this.faUsers=v.FVb,this.faGear=v.gr5}ngOnInit(){this.getMeBoards()}getMeBoards(){this.meService.getMeBoards().subscribe(c=>{this.boards=c})}}return o.\u0275fac=function(c){return new(c||o)(e.Y36(Q9.w))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-boards"]],decls:49,vars:13,consts:[[1,"container","mx-auto","flex","mt-10"],[1,"w-1/5","mr-4"],[1,"flex","flex-col","font-medium","text-gray-700","mb-5"],[1,"block","bg-sky-100","rounded","py-1","px-3","text-sky-700","cursor-pointer"],[3,"icon"],[1,"block","py-1","px-3","cursor-default"],["accordionMenu","cdkAccordionItem"],["type","button",1,"w-full","py-1","px-2","flex","justify-between","items-center",3,"click"],[1,"ml-2","flex","flex-col","text-sm","text-gray-700"],[1,"block","rounded","py-1","px-3","text-sky-700","cursor-pointer"],[1,"w-full"],[1,"text-lg","font-bold","mb-4"],[1,"grid","grid-cols-4","gap-4"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[3,"color"]],template:function(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"a",3),e._UZ(5,"fa-icon",4),e._uU(6," Boards"),e.qZA()(),e.TgZ(7,"li")(8,"a",5),e._UZ(9,"fa-icon",4),e._uU(10," Templates"),e.qZA()(),e.TgZ(11,"li")(12,"a",5),e._UZ(13,"fa-icon",4),e._uU(14," Home"),e.qZA()()(),e.TgZ(15,"cdk-accordion")(16,"cdk-accordion-item",null,6)(18,"button",7),e.NdJ("click",function(){e.CHM(t);const n=e.MAs(17);return e.KtG(n.toggle())}),e._uU(19," My workspace "),e._UZ(20,"fa-icon",4),e.qZA(),e.TgZ(21,"div")(22,"ul",8)(23,"li")(24,"a",9),e._UZ(25,"fa-icon",4),e._uU(26," Boards"),e.qZA()(),e.TgZ(27,"li")(28,"a",5),e._UZ(29,"fa-icon",4),e._uU(30," Highlights"),e.qZA()(),e.TgZ(31,"li")(32,"a",5),e._UZ(33,"fa-icon",4),e._uU(34," Views"),e.qZA()(),e.TgZ(35,"li")(36,"a",5),e._UZ(37,"fa-icon",4),e._uU(38," Members"),e.qZA()(),e.TgZ(39,"li")(40,"a",5),e._UZ(41,"fa-icon",4),e._uU(42," Settings"),e.qZA()()()()()()(),e.TgZ(43,"div",10)(44,"h1",11),e._UZ(45,"fa-icon",4),e._uU(46," Recently viewed"),e.qZA(),e.TgZ(47,"div",12),e.YNc(48,X9,3,5,"a",13),e.qZA()()()}if(2&c){const t=e.MAs(17);e.xp6(5),e.Q6J("icon",i.faTrello),e.xp6(4),e.Q6J("icon",i.faBox),e.xp6(4),e.Q6J("icon",i.faWaveSquare),e.xp6(7),e.Q6J("icon",t.expanded?i.faAngleUp:i.faAngleDown),e.xp6(1),e.Udp("display",t.expanded?"":"none"),e.xp6(4),e.Q6J("icon",i.faTrello),e.xp6(4),e.Q6J("icon",i.faHeart),e.xp6(4),e.Q6J("icon",i.faBorderAll),e.xp6(4),e.Q6J("icon",i.faUsers),e.xp6(4),e.Q6J("icon",i.faGear),e.xp6(4),e.Q6J("icon",i.faClock),e.xp6(3),e.Q6J("ngForOf",i.boards)}},dependencies:[b.sg,I.yS,K9,d2,z2,w.BN],encapsulation:2}),o})();var P1=h(2340),Q=h(9325),T1=h(529);let R1=(()=>{class o{constructor(c){this.http=c,this.apiUrl=P1.N.API_URL}update(c,i){return this.http.put(`${this.apiUrl}/api/v1/cards/${c}`,i,{context:(0,Q.a)()})}create(c){return this.http.post(`${this.apiUrl}/api/v1/cards`,c,{context:(0,Q.a)()})}}return o.\u0275fac=function(c){return new(c||o)(e.LFG(T1.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var j=h(9200);function ec(o,a){if(1&o&&(e.TgZ(0,"div",6),e._UZ(1,"fa-icon",7),e.TgZ(2,"div",8)(3,"h3",9),e._uU(4),e.qZA(),e.TgZ(5,"p",10),e._uU(6),e.qZA()()()),2&o){const c=e.oxw();e.xp6(1),e.Q6J("icon",c.faCheckToSlot),e.xp6(3),e.Oqu(c.card.title),e.xp6(2),e.hij("in list ",c.listTitle,"")}}function ac(o,a){if(1&o){const c=e.EpF();e.TgZ(0,"div",11)(1,"div",12),e._UZ(2,"fa-icon",7),e.TgZ(3,"div",8)(4,"h3",9),e._uU(5,"Description"),e.qZA(),e.TgZ(6,"p",10),e._uU(7),e.qZA()()(),e.TgZ(8,"div",13)(9,"app-btn",14)(10,"span",15),e._UZ(11,"fa-icon",7),e.TgZ(12,"span"),e._uU(13,"Members"),e.qZA()()(),e.TgZ(14,"app-btn",14)(15,"span",15),e._UZ(16,"fa-icon",7),e.TgZ(17,"span"),e._uU(18,"Labels"),e.qZA()()(),e.TgZ(19,"app-btn",16),e.NdJ("click",function(){e.CHM(c);const t=e.oxw();return e.KtG(t.updateCardDetail=!t.updateCardDetail)}),e.TgZ(20,"span",15),e._UZ(21,"fa-icon",7),e.TgZ(22,"span"),e._uU(23,"Update"),e.qZA()()()()()}if(2&o){const c=e.oxw();e.xp6(2),e.Q6J("icon",c.faBars),e.xp6(5),e.Oqu(c.card.description),e.xp6(4),e.Q6J("icon",c.faUser),e.xp6(5),e.Q6J("icon",c.faTag),e.xp6(5),e.Q6J("icon",c.faPenToSquare)}}function ic(o,a){if(1&o){const c=e.EpF();e.TgZ(0,"div")(1,"div",17)(2,"h3",18),e._uU(3,"Update Card"),e.qZA()(),e.TgZ(4,"form",19),e.NdJ("ngSubmit",function(){e.CHM(c);const t=e.oxw();return e.KtG(t.updateCard(t.card.id))}),e.TgZ(5,"div")(6,"b"),e._uU(7,"Card title"),e.qZA(),e.TgZ(8,"span",20),e._uU(9,"*"),e.qZA(),e.TgZ(10,"div",21),e._UZ(11,"input",22),e.qZA()(),e.TgZ(12,"div")(13,"b"),e._uU(14,"Card Description"),e.qZA(),e.TgZ(15,"span",20),e._uU(16,"*"),e.qZA(),e.TgZ(17,"div",21),e._UZ(18,"textarea",23),e.qZA()(),e.TgZ(19,"div")(20,"app-btn",24),e._uU(21," Update "),e.qZA()()()()}if(2&o){const c=e.oxw();e.xp6(4),e.Q6J("formGroup",c.form)}}let tc=(()=>{class o{constructor(c,i,t,r){this.dialogRef=c,this.formBuilder=t,this.cardsService=r,this.faClose=v.YIN,this.faCheckToSlot=v.RMc,this.faBars=v.xiG,this.faUser=v.ILF,this.faTag=v.LEN,this.faCheckSquare=v.a3n,this.faClock=v.SZw,this.faPenToSquare=v.Yai,this.listTitle="",this.updateCardDetail=!1,this.form=this.formBuilder.nonNullable.group({title:["",[d.kI.required]],description:["",[d.kI.required]]}),this.card=i.card,this.listTitle=i.listTitle,this.form.controls.title.setValue(this.card.title),this.form.controls.description.setValue(this.card.description)}close(){this.dialogRef.close()}updateCard(c){this.form.valid?(console.log(this.form.getRawValue()),this.cardsService.update(c,this.form.getRawValue()).subscribe(i=>{this.close(),location.reload()})):this.form.markAllAsTouched()}}return o.\u0275fac=function(c){return new(c||o)(e.Y36(V.zj),e.Y36(V.Kt),e.Y36(d.qu),e.Y36(R1))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-card-dialog"]],decls:6,vars:4,consts:[[1,"p-6","bg-gray-100","relative","rounded","shadow"],["type","button",1,"absolute","top-3","right-3","focus:outline-none","p-2",3,"click"],[3,"icon"],["class","flex space-x-2 mb-5",4,"ngIf"],["class","flex w-full gap-4",4,"ngIf"],[4,"ngIf"],[1,"flex","space-x-2","mb-5"],[1,"text-gray-800",3,"icon"],[1,"flex","flex-col"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"flex","w-full","gap-4"],[1,"flex","space-x-2","mb-5","w-4/6"],[1,"flex","flex-auto","space-y-2","flex-col"],["typeBtn","button","color","light"],[1,"flex","space-x-2","text-left"],["typeBtn","button","color","light",3,"click"],[1,"flex","justify-center"],[1,"text-lg","px-4","py-4","font-semibold","text-gray-800"],["novalidate","",1,"space-y-4",3,"formGroup","ngSubmit"],[1,"text-red-600"],[1,"relative"],["formControlName","title","placeholder","Enter title","type","text",1,"w-full","rounded","bg-gray-100","border-gray-300","border-2"],["formControlName","description","placeholder","Enter description","type","text",1,"w-full","rounded","bg-gray-100","border-gray-300","border-2"],["typeBtn","submit","color","primary"]],template:function(c,i){1&c&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return i.close()}),e._UZ(2,"fa-icon",2),e.qZA(),e.YNc(3,ec,7,3,"div",3),e.YNc(4,ac,24,5,"div",4),e.YNc(5,ic,22,1,"div",5),e.qZA()),2&c&&(e.xp6(2),e.Q6J("icon",i.faClose),e.xp6(1),e.Q6J("ngIf",!i.updateCardDetail),e.xp6(1),e.Q6J("ngIf",!i.updateCardDetail),e.xp6(1),e.Q6J("ngIf",i.updateCardDetail))},dependencies:[b.O5,j.r,w.BN,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u],encapsulation:2}),o})();var I1=h(8945);let oc=(()=>{class o{constructor(c,i,t,r){this.dialogRef=c,this.boardsService=t,this.formBuilder=r,this.faClose=v.YIN,this.faCheckToSlot=v.RMc,this.faBars=v.xiG,this.faUser=v.ILF,this.faTag=v.LEN,this.faCheckSquare=v.a3n,this.faClock=v.SZw,this.form=this.formBuilder.nonNullable.group({title:["",[d.kI.required]],backgroundColor:new d.NI("sky",{nonNullable:!0,validators:[d.kI.required]})}),this.board=i.board,this.form.controls.title.setValue(this.board.title),this.form.controls.backgroundColor.setValue(this.board.backgroundColor)}close(){this.dialogRef.close()}updateBoard(c){if(this.form.valid){const{title:i,backgroundColor:t}=this.form.getRawValue();this.boardsService.updateBoard(c,i,t).subscribe(r=>{this.close(),location.reload()})}else this.form.markAllAsTouched()}}return o.\u0275fac=function(c){return new(c||o)(e.Y36(V.zj),e.Y36(V.Kt),e.Y36(I1.E),e.Y36(d.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-board-dialog"]],decls:47,vars:2,consts:[[1,"p-6","bg-gray-100","relative","rounded","shadow"],["type","button",1,"absolute","top-3","right-3","focus:outline-none","p-2",3,"click"],[3,"icon"],[1,"flex","justify-center"],[1,"text-lg","px-4","py-4","font-semibold","text-gray-800"],["novalidate","",1,"space-y-4",3,"formGroup","ngSubmit"],[1,"text-red-600"],[1,"relative"],["formControlName","title","placeholder","Enter title","type","text",1,"w-full","rounded","bg-gray-100","border-gray-300","border-2"],[1,"flex","flex-wrap"],[1,"flex","items-center","mr-4"],["id","sky-radio","type","radio","value","sky","name","backgroundColor","formControlName","backgroundColor",1,"w-4","h-4","text-sky-600","bg-gray-100","border-gray-300","focus:ring-sky-500","dark:focus:ring-sky-600"],["for","sky-radio",1,"ml-2","text-sm","font-medium","text-gray-900"],["id","yellow-radio","type","radio","value","yellow","name","backgroundColor","formControlName","backgroundColor",1,"w-4","h-4","text-yellow-600","bg-gray-100","border-gray-300","focus:ring-yellow-500","dark:focus:ring-yellow-600"],["for","yellow-radio",1,"ml-2","text-sm","font-medium","text-gray-900"],["id","green-radio","type","radio","value","green","name","backgroundColor","formControlName","backgroundColor",1,"w-4","h-4","text-green-600","bg-gray-100","border-gray-300","focus:ring-green-500","dark:focus:ring-green-600"],["for","green-radio",1,"ml-2","text-sm","font-medium","text-gray-900"],["id","red-radio","type","radio","value","red","name","backgroundColor","formControlName","backgroundColor",1,"w-4","h-4","text-red-600","bg-gray-100","border-gray-300","focus:ring-red-500","dark:focus:ring-red-600"],["for","red-radio",1,"ml-2","text-sm","font-medium","text-gray-900"],["id","violet-radio","type","radio","value","violet","name","backgroundColor","formControlName","backgroundColor",1,"w-4","h-4","text-violet-600","bg-gray-100","border-gray-300","focus:ring-violet-500","dark:focus:ring-violet-600"],["for","violet-radio",1,"ml-2","text-sm","font-medium","text-gray-900"],["id","gray-radio","type","radio","value","gray","name","backgroundColor","formControlName","backgroundColor",1,"w-4","h-4","text-gray-600","bg-gray-100","border-gray-300","focus:ring-gray-500","dark:focus:ring-gray-600"],["for","gray-radio",1,"ml-2","text-sm","font-medium","text-gray-900"],["typeBtn","submit","color","primary"]],template:function(c,i){1&c&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return i.close()}),e._UZ(2,"fa-icon",2),e.qZA(),e.TgZ(3,"div",3)(4,"h3",4),e._uU(5,"Update Board"),e.qZA()(),e.TgZ(6,"form",5),e.NdJ("ngSubmit",function(){return i.updateBoard(i.board.id)}),e.TgZ(7,"div")(8,"b"),e._uU(9,"Board title"),e.qZA(),e.TgZ(10,"span",6),e._uU(11,"*"),e.qZA(),e.TgZ(12,"div",7),e._UZ(13,"input",8),e.qZA()(),e.TgZ(14,"div")(15,"b"),e._uU(16,"Background"),e.qZA(),e.TgZ(17,"span",6),e._uU(18,"*"),e.qZA(),e.TgZ(19,"div",9)(20,"div",10),e._UZ(21,"input",11),e.TgZ(22,"label",12),e._uU(23,"Sky"),e.qZA()(),e.TgZ(24,"div",10),e._UZ(25,"input",13),e.TgZ(26,"label",14),e._uU(27,"Yellow"),e.qZA()(),e.TgZ(28,"div",10),e._UZ(29,"input",15),e.TgZ(30,"label",16),e._uU(31,"green"),e.qZA()(),e.TgZ(32,"div",10),e._UZ(33,"input",17),e.TgZ(34,"label",18),e._uU(35,"red"),e.qZA()(),e.TgZ(36,"div",10),e._UZ(37,"input",19),e.TgZ(38,"label",20),e._uU(39,"violet"),e.qZA()(),e.TgZ(40,"div",10),e._UZ(41,"input",21),e.TgZ(42,"label",22),e._uU(43,"gray"),e.qZA()()()(),e.TgZ(44,"div")(45,"app-btn",23),e._uU(46," Update "),e.qZA()()()()),2&c&&(e.xp6(2),e.Q6J("icon",i.faClose),e.xp6(4),e.Q6J("formGroup",i.form))},dependencies:[j.r,w.BN,d._Y,d.Fj,d._,d.JJ,d.JL,d.sg,d.u],encapsulation:2}),o})(),rc=(()=>{class o{constructor(c){this.http=c,this.apiUrl=P1.N.API_URL}create(c){return this.http.post(`${this.apiUrl}/api/v1/lists`,c,{context:(0,Q.a)()})}}return o.\u0275fac=function(c){return new(c||o)(e.LFG(T1.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function nc(o,a){if(1&o){const c=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){const r=e.CHM(c).$implicit,n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.openDialog(r,n.title))}),e._uU(1),e.qZA()}if(2&o){const c=a.$implicit;e.xp6(1),e.hij(" ",c.title," ")}}function sc(o,a){if(1&o){const c=e.EpF();e.TgZ(0,"app-btn",19),e.NdJ("click",function(){e.CHM(c);const t=e.oxw().$implicit,r=e.oxw();return e.KtG(r.openFormCard(t))}),e.TgZ(1,"div",9)(2,"span"),e._UZ(3,"fa-icon",12),e._uU(4," Add a card"),e.qZA(),e.TgZ(5,"h3",11),e._UZ(6,"fa-icon",12),e.qZA()()()}if(2&o){const c=e.oxw(2);e.xp6(3),e.Q6J("icon",c.faPlus),e.xp6(3),e.Q6J("icon",c.faImages)}}function lc(o,a){if(1&o){const c=e.EpF();e.TgZ(0,"div",20),e._UZ(1,"textarea",21),e.TgZ(2,"div",22)(3,"app-btn",23),e.NdJ("click",function(){e.CHM(c);const t=e.oxw().$implicit,r=e.oxw();return e.KtG(r.createCard(t))}),e._uU(4," Add card "),e.qZA(),e.TgZ(5,"app-btn",19),e.NdJ("click",function(){e.CHM(c);const t=e.oxw().$implicit,r=e.oxw();return e.KtG(r.closeCardForm(t))}),e._UZ(6,"fa-icon",12),e.qZA()()()}if(2&o){const c=e.oxw(2);e.xp6(1),e.Q6J("formControl",c.inputCard),e.xp6(5),e.Q6J("icon",c.faClose)}}function fc(o,a){if(1&o){const c=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"h3",10),e._uU(3),e.qZA(),e.TgZ(4,"h3",11),e._UZ(5,"fa-icon",12),e.qZA()(),e.TgZ(6,"div",13),e.NdJ("cdkDropListDropped",function(t){e.CHM(c);const r=e.oxw();return e.KtG(r.drop(t))}),e.YNc(7,nc,2,1,"div",14),e.qZA(),e.TgZ(8,"div",15),e.YNc(9,sc,7,2,"app-btn",16),e.YNc(10,lc,7,2,"div",17),e.qZA()()}if(2&o){const c=a.$implicit,i=e.oxw();e.xp6(3),e.Oqu(c.title),e.xp6(2),e.Q6J("icon",i.faEllipsis),e.xp6(1),e.Q6J("id",c.id)("cdkDropListData",c.cards),e.xp6(1),e.Q6J("ngForOf",c.cards),e.xp6(2),e.Q6J("ngIf",!c.showCardForm),e.xp6(1),e.Q6J("ngIf",c.showCardForm)}}function hc(o,a){if(1&o){const c=e.EpF();e.TgZ(0,"app-btn",24),e.NdJ("click",function(){e.CHM(c);const t=e.oxw();return e.KtG(t.showListForm=!t.showListForm)}),e._UZ(1,"fa-icon",12),e._uU(2," Add another list "),e.qZA()}if(2&o){const c=e.oxw();e.xp6(1),e.Q6J("icon",c.faPlus)}}function mc(o,a){if(1&o){const c=e.EpF();e.TgZ(0,"div",25)(1,"div",9)(2,"h3",26),e._uU(3,"Add another list"),e.qZA(),e.TgZ(4,"h3",11),e._UZ(5,"fa-icon",12),e.qZA()(),e._UZ(6,"textarea",27),e.TgZ(7,"div",22)(8,"app-btn",23),e.NdJ("click",function(){e.CHM(c);const t=e.oxw();return e.KtG(t.addList())}),e._uU(9,"Add List"),e.qZA(),e.TgZ(10,"app-btn",19),e.NdJ("click",function(){e.CHM(c);const t=e.oxw();return e.KtG(t.closeListForm())}),e._UZ(11,"fa-icon",12),e.qZA()()()}if(2&o){const c=e.oxw();e.xp6(5),e.Q6J("icon",c.faEllipsis),e.xp6(1),e.Q6J("formControl",c.inputList),e.xp6(5),e.Q6J("icon",c.faClose)}}const dc=[{path:"",component:cc},{path:":id",component:(()=>{class o{constructor(c,i,t,r,n){this.dialog=c,this.route=i,this.boardsService=t,this.cardsService=r,this.listsService=n,this.board=null,this.showListForm=!1,this.backgroundColorBoard=k1.nY,this.faClose=v.YIN,this.faPlus=v.r8p,this.faEllipsis=v.S6C,this.faImages=v.l9f,this.inputCard=new d.NI("",{nonNullable:!0,validators:[d.kI.required]}),this.inputList=new d.NI("",{nonNullable:!0,validators:[d.kI.required]})}ngOnInit(){this.route.paramMap.subscribe(c=>{const i=c.get("id");i&&this.getBoard(i)})}ngOnDestroy(){this.boardsService.setBackgroundColor("sky")}drop(c){c.previousContainer===c.container?p1(c.container.data,c.previousIndex,c.currentIndex):function K1(o,a,c,i){const t=D(c,o.length-1),r=D(i,a.length);o.length&&a.splice(r,0,o.splice(t,1)[0])}(c.previousContainer.data,c.container.data,c.previousIndex,c.currentIndex);const i=this.boardsService.getPosition(c.container.data,c.currentIndex);this.updateCard(c.container.data[c.currentIndex],i,c.container.id)}addList(){this.board&&this.listsService.create({title:this.inputList.value,boardId:this.board.id,position:this.boardsService.getPositionNewCardOrList(this.board.lists)}).subscribe(i=>{this.board?.lists.push({...i,cards:[]}),this.closeListForm()})}openDialog(c,i){this.dialog.open(tc,{minWidth:"300px",maxWidth:"50%",data:{card:c,listTitle:i}}).closed.subscribe(r=>{r&&console.log(r)})}getBoard(c){this.boardsService.getBoard(c).subscribe(i=>{this.board=i,this.boardsService.setBackgroundColor(this.board.backgroundColor)})}updateCard(c,i,t){this.cardsService.update(c.id,{position:i,listId:t}).subscribe(r=>{console.log(r)})}openFormCard(c){this.inputCard.setValue(""),this.board?.lists&&(this.board.lists=this.board.lists.map(i=>i.id===c.id?{...i,showCardForm:!0}:{...i,showCardForm:!1}))}createCard(c){this.board&&this.cardsService.create({title:this.inputCard.value,listId:c.id,boardId:this.board.id,position:this.boardsService.getPositionNewCardOrList(c.cards)}).subscribe(t=>{c.cards.push(t),this.inputCard.setValue(""),this.closeCardForm(c)})}closeCardForm(c){c.showCardForm=!1}closeListForm(){this.inputList.setValue(""),this.showListForm=!1}get backgroundColor(){return this.board&&this.backgroundColorBoard[this.board.backgroundColor]||{}}openDialogBoard(c){this.dialog.open(oc,{minWidth:"300px",maxWidth:"50%",data:{board:c}}).closed.subscribe(t=>{t&&console.log(t)})}}return o.\u0275fac=function(c){return new(c||o)(e.Y36(V.Vq),e.Y36(I.gz),e.Y36(I1.E),e.Y36(R1),e.Y36(rc))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-board"]],decls:10,vars:5,consts:[[1,"w-full","h-full","px-4","pb-4",3,"ngClass"],[1,"flex","flex-col","h-full"],[1,"text-xl","font-bold","text-white","my-4","cursor-pointer",3,"click"],["cdkDropListGroup","",1,"flex","grow","items-start","w-full","h-full","overflow-x-scroll","pb-16"],["class","rounded-[15px] bg-gray-200 w-72 p-2 mr-3 shrink-0",4,"ngFor","ngForOf"],[1,"shrink-0"],["color","lightList",3,"click",4,"ngIf"],["class","w-72 rounded-[10px] bg-gray-200 p-2 mr-3 shrink-0",4,"ngIf"],[1,"rounded-[15px]","bg-gray-200","w-72","p-2","mr-3","shrink-0"],[1,"flex","justify-between","py-1"],[1,"text-sm","font-bold","ml-2","text-gray-700"],[1,"text-sm","font-bold","ml-2","px-2"],[3,"icon"],["cdkDropList","",1,"text-sm","mt-2","min-h-[2.5rem]",3,"id","cdkDropListData","cdkDropListDropped"],["cdkDrag","","class","bg-white cursor-grab text-gray-700 shadow p-2 rounded-[10px] mt-2 border-b border-x-gray-300 hover:bg-gray-200 hover:border hover:border-gray-300",3,"click",4,"ngFor","ngForOf"],[1,"mt-5"],["color","lightCard",3,"click",4,"ngIf"],["class","w-full",4,"ngIf"],["cdkDrag","",1,"bg-white","cursor-grab","text-gray-700","shadow","p-2","rounded-[10px]","mt-2","border-b","border-x-gray-300","hover:bg-gray-200","hover:border","hover:border-gray-300",3,"click"],["color","lightCard",3,"click"],[1,"w-full"],["placeholder","Enter a title for this card...",1,"w-full","rounded","text-xs","border-b-gray-400","border-b-2",3,"formControl"],[1,"flex","space-x-2","justify-between"],["color","primary",3,"click"],["color","lightList",3,"click"],[1,"w-72","rounded-[10px]","bg-gray-200","p-2","mr-3","shrink-0"],[1,"text-sm","font-bold","ml-2"],["placeholder","Enter a title for this list...",1,"w-full","rounded","text-xs","border-b-gray-400","border-b-2",3,"formControl"]],template:function(c,i){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),e.NdJ("click",function(){return i.openDialogBoard(i.board)}),e._uU(4),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,fc,11,7,"div",4),e.TgZ(7,"div",5),e.YNc(8,hc,3,1,"app-btn",6),e.YNc(9,mc,12,3,"div",7),e.qZA()()()()),2&c&&(e.Q6J("ngClass",i.backgroundColor),e.xp6(4),e.hij(" ",null==i.board?null:i.board.title," "),e.xp6(2),e.Q6J("ngForOf",null==i.board?null:i.board.lists),e.xp6(2),e.Q6J("ngIf",!i.showListForm),e.xp6(1),e.Q6J("ngIf",i.showListForm))},dependencies:[b.mk,b.sg,b.O5,j.r,o2,i2,l2,w.BN,d.Fj,d.JJ,d.oH],styles:[".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}"]}),o})()}];let vc=(()=>{class o{}return o.\u0275fac=function(c){return new(c||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[I.Bz.forChild(dc),I.Bz]}),o})(),zc=(()=>{class o{}return o.\u0275fac=function(c){return new(c||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[b.ez,vc,C2.m,f2,p2,V.Su,w.uH,d.UX]}),o})()}}]);